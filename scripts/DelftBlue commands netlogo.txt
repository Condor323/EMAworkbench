# Login (CMD)
ssh -J eterhoeven@student-linux.tudelft.nl eterhoeven@login.delftblue.tudelft.nl

# Set the directory name
directory="netlogo-test"

# Move to scratch folder
cd ../../scratch/eterhoeven

# Check if directory exists
if [ -d "$directory" ]; then
  # Remove all files and subdirectories inside the directory
  rm -r "$directory"/*
else
  # Create new directory
  mkdir "$directory"
fi

# Change to the specified directory
cd "$directory"

# Install NetLogo
wget https://ccl.northwestern.edu/netlogo/6.2.2/NetLogo-6.2.2-64.tgz
tar -xzf NetLogo-6.2.2-64.tgz
sudo mv NetLogo\ 6.2.2 netlogo
echo 'export PATH=$PATH:/scratch/<your_netid>/netlogo' >> ~/.bashrc
source ~/.bashrc
netlogo-headless.sh --version
# remove: sudo rm -r /opt/netlogo


# Move files (NEW CMD)
cd C:\Users\Ewout\Documents\GitHub\EMAworkbench\scripts
scp -J eterhoeven@student-linux.tudelft.nl netlogo.py test_script.sh eterhoeven@login.delftblue.tudelft.nl:/scratch/eterhoeven/netlogo-test

# Check if files are correctly tranfered (Logged in)
ls

# Note: bash scripts (sh) needs LF line endings. Do that in atom.

# Run batch script
sbatch test_script.sh

# Check queue
squeue -u eterhoeven



#
cd ..
rm -rf python-test
mkdir python-test
cd python-test

#
pip install -e -U git+https://github.com/quaquel/EMAworkbench@multi-node-development#egg=ema-workbench